---
import { format } from 'date-fns';
import { tagTitleCase } from '../utilities';

const { posts, nextUrl, prevUrl, title, tagline, feedUrl, tag } = Astro.props;
---

<section class="text-center">
  <h1 class="mb-4">{title}</h1>
  <h2>by Brian Douglass</h2>
  <h3>{tagline}</h3>
</section>

<section>
  <h3>{tag ? tagTitleCase(tag) : 'All'} Posts</h3>

  <ul class="list-unstyled">
    {posts.map((post) => (
      <li class="mb-1">
        <b><a href={`${post.url}/`}>{post.frontmatter.title}</a></b> - {format(new Date(post.frontmatter.date), 'MMMM d, yyyy')}
        {post.frontmatter.draft && '(DRAFT)'}
      </li>
    ))}
  </ul>

  <div>
    {nextUrl && (<a href={nextUrl}>&lt; Older Posts</a>)}
    {prevUrl && (<a href={prevUrl}>Newer Posts &gt;</a>)}
  </div>

  <div class="mt-2">
    <a href={feedUrl}>RSS Feed</a>
  </div>
</section>
